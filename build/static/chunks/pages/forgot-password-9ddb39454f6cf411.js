(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9742],{88641:function(e,r,t){"use strict";t.d(r,{Z:function(){return u}});var n=t(1413),s=t(67294),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"},a=t(42135),i=function(e,r){return s.createElement(a.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:r,icon:o}))};i.displayName="MailOutlined";var u=s.forwardRef(i)},52036:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/forgot-password",function(){return t(11066)}])},11066:function(e,r,t){"use strict";t.r(r);var n=t(47568),s=t(828),o=t(34051),a=t.n(o),i=t(85893),u=(t(62091),t(88641)),c=t(94149),l=t(93940),f=t(79531),d=t(71577),m=t(67294),p=t(9669),h=t.n(p),Z=t(11163),g=t(71230),w=t(15746),x=t(86501),y=t(40730),v=function(){var e=(0,m.useContext)(y.V),r=(e[0],e[1],(0,m.useState)(!1)),t=r[0],o=r[1],p=((0,Z.useRouter)(),(0,m.useState)(!1)),g=p[0],w=p[1],v=(0,s.Z)(l.Z.useForm(),1)[0],j=function(){var e=(0,n.Z)(a().mark((function e(r){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(r),e.prev=1,o(!0),e.next=5,h().post("/forgot-password",r);case 5:(t=e.sent.data).error?(x.ZP.error(t.error),o(!1)):x.ZP.success("Password reset link has been sent to email address"),o(!1),w(!0),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),x.ZP.error("Forgot password request failed , Try again",e.t0),o(!1);case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(r){return e.apply(this,arguments)}}(),b=function(){var e=(0,n.Z)(a().mark((function e(r){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(r),e.prev=1,o(!0),e.next=5,h().post("/reset-password",r);case 5:(t=e.sent.data).error?(x.ZP.error(t.error),o(!1)):x.ZP.success("You can login to NightKing-CMS with your new password"),v.resetFields=["email"],o(!1),w(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),x.ZP.error("Reset request failed , Try again",e.t0),o(!1);case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(r){return e.apply(this,arguments)}}();return(0,i.jsxs)(l.Z,{name:"normal_login",className:"login-form",form:v,onFinish:g?b:j,children:[(0,i.jsx)(l.Z.Item,{name:"email",rules:[{type:"email",required:!0,message:"Please input your email"}],children:(0,i.jsx)(f.Z,{prefix:(0,i.jsx)(u.Z,{className:"site-form-item-icon"}),placeholder:"Email"})}),g&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.Z.Item,{name:"password",rules:[{required:!0,message:"Please enter your new Password!"}],children:(0,i.jsx)(f.Z.Password,{prefix:(0,i.jsx)(c.Z,{className:"site-form-item-icon"}),type:"password",placeholder:"Enter your new Password!"})}),(0,i.jsx)(l.Z.Item,{name:"resetCode",rules:[{required:!0,message:"Enter Reset Code"}],children:(0,i.jsx)(f.Z,{prefix:(0,i.jsx)(u.Z,{className:"site-form-item-icon"}),placeholder:"Reset code"})})]}),(0,i.jsxs)(l.Z.Item,{children:[(0,i.jsx)(d.Z,{type:"primary",htmlType:"submit",className:"login-form-button",loading:t,children:"Submit"}),"\xa0Or ",(0,i.jsx)("a",{href:"/signin",children:" SignIn"})]})]})};r.default=function(){return(0,i.jsx)(g.Z,{children:(0,i.jsxs)(w.Z,{span:8,offset:8,children:[(0,i.jsx)("h1",{style:{paddingTop:"100px"},children:" Forgot Password"}),(0,i.jsx)(v,{})]})})}},20943:function(e,r,t){"use strict";function n(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}t.d(r,{Z:function(){return n}})},13375:function(e,r,t){"use strict";function n(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}t.d(r,{Z:function(){return n}})},828:function(e,r,t){"use strict";t.d(r,{Z:function(){return o}});var n=t(13375);var s=t(91566);function o(e,r){return function(e){if(Array.isArray(e))return e}(e)||(0,n.Z)(e,r)||(0,s.Z)(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},91566:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});var n=t(20943);function s(e,r){if(e){if("string"===typeof e)return(0,n.Z)(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?(0,n.Z)(e,r):void 0}}}},function(e){e.O(0,[7643,6135,5567,3940,819,9774,2888,179],(function(){return r=52036,e(e.s=r);var r}));var r=e.O();_N_E=r}]);