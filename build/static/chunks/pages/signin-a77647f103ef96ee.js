(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2176],{87782:function(e,n,t){"use strict";t.d(n,{Z:function(){return I}});var r=t(4942),o=t(87462),a=t(94184),i=t.n(a),u=t(45987),l=t(1413),s=t(15671),c=t(43144),d=t(60136),f=t(73568),p=t(67294),v=function(e){(0,d.Z)(t,e);var n=(0,f.Z)(t);function t(e){var r;(0,s.Z)(this,t),(r=n.call(this,e)).handleChange=function(e){var n=r.props,t=n.disabled,o=n.onChange;t||("checked"in r.props||r.setState({checked:e.target.checked}),o&&o({target:(0,l.Z)((0,l.Z)({},r.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},r.saveInput=function(e){r.input=e};var o="checked"in e?e.checked:e.defaultChecked;return r.state={checked:o},r}return(0,c.Z)(t,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,n=this.props,t=n.prefixCls,a=n.className,l=n.style,s=n.name,c=n.id,d=n.type,f=n.disabled,v=n.readOnly,m=n.tabIndex,h=n.onClick,y=n.onFocus,g=n.onBlur,b=n.onKeyDown,x=n.onKeyPress,Z=n.onKeyUp,k=n.autoFocus,C=n.value,O=n.required,w=(0,u.Z)(n,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),N=Object.keys(w).reduce((function(e,n){return"aria-"!==n.substr(0,5)&&"data-"!==n.substr(0,5)&&"role"!==n||(e[n]=w[n]),e}),{}),S=this.state.checked,j=i()(t,a,(e={},(0,r.Z)(e,"".concat(t,"-checked"),S),(0,r.Z)(e,"".concat(t,"-disabled"),f),e));return p.createElement("span",{className:j,style:l},p.createElement("input",(0,o.Z)({name:s,id:c,type:d,required:O,readOnly:v,disabled:f,tabIndex:m,className:"".concat(t,"-input"),checked:!!S,onClick:h,onFocus:y,onBlur:g,onKeyUp:Z,onKeyDown:b,onKeyPress:x,onChange:this.handleChange,autoFocus:k,ref:this.saveInput,value:C},N)),p.createElement("span",{className:"".concat(t,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,n){return"checked"in e?(0,l.Z)((0,l.Z)({},n),{},{checked:e.checked}):null}}]),t}(p.Component);v.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};var m=v,h=t(53124),y=t(65223),g=t(74902),b=t(97685),x=t(98423),Z=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t},k=p.createContext(null),C=function(e,n){var t=e.defaultValue,a=e.children,u=e.options,l=void 0===u?[]:u,s=e.prefixCls,c=e.className,d=e.style,f=e.onChange,v=Z(e,["defaultValue","children","options","prefixCls","className","style","onChange"]),m=p.useContext(h.E_),y=m.getPrefixCls,C=m.direction,O=p.useState(v.value||t||[]),w=(0,b.Z)(O,2),N=w[0],S=w[1],j=p.useState([]),E=(0,b.Z)(j,2),I=E[0],_=E[1];p.useEffect((function(){"value"in v&&S(v.value||[])}),[v.value]);var K=function(){return l.map((function(e){return"string"===typeof e||"number"===typeof e?{label:e,value:e}:e}))},F=y("checkbox",s),A="".concat(F,"-group"),M=(0,x.Z)(v,["value","disabled"]);l&&l.length>0&&(a=K().map((function(e){return p.createElement(P,{prefixCls:F,key:e.value.toString(),disabled:"disabled"in e?e.disabled:v.disabled,value:e.value,checked:-1!==N.indexOf(e.value),onChange:e.onChange,className:"".concat(A,"-item"),style:e.style},e.label)})));var V={toggleOption:function(e){var n=N.indexOf(e.value),t=(0,g.Z)(N);-1===n?t.push(e.value):t.splice(n,1),"value"in v||S(t);var r=K();null===f||void 0===f||f(t.filter((function(e){return-1!==I.indexOf(e)})).sort((function(e,n){return r.findIndex((function(n){return n.value===e}))-r.findIndex((function(e){return e.value===n}))})))},value:N,disabled:v.disabled,name:v.name,registerValue:function(e){_((function(n){return[].concat((0,g.Z)(n),[e])}))},cancelValue:function(e){_((function(n){return n.filter((function(n){return n!==e}))}))}},D=i()(A,(0,r.Z)({},"".concat(A,"-rtl"),"rtl"===C),c);return p.createElement("div",(0,o.Z)({className:D,style:d},M,{ref:n}),p.createElement(k.Provider,{value:V},a))},O=p.forwardRef(C),w=p.memo(O),N=t(98866),S=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t},j=function(e,n){var t,a=e.prefixCls,u=e.className,l=e.children,s=e.indeterminate,c=void 0!==s&&s,d=e.style,f=e.onMouseEnter,v=e.onMouseLeave,g=e.skipGroup,b=void 0!==g&&g,x=e.disabled,Z=S(e,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),C=p.useContext(h.E_),O=C.getPrefixCls,w=C.direction,j=p.useContext(k),P=(0,p.useContext)(y.aM).isFormItemInput,E=(0,p.useContext)(N.Z),I=x||(null===j||void 0===j?void 0:j.disabled)||E,_=p.useRef(Z.value);p.useEffect((function(){null===j||void 0===j||j.registerValue(Z.value)}),[]),p.useEffect((function(){if(!b)return Z.value!==_.current&&(null===j||void 0===j||j.cancelValue(_.current),null===j||void 0===j||j.registerValue(Z.value),_.current=Z.value),function(){return null===j||void 0===j?void 0:j.cancelValue(Z.value)}}),[Z.value]);var K=O("checkbox",a),F=(0,o.Z)({},Z);j&&!b&&(F.onChange=function(){Z.onChange&&Z.onChange.apply(Z,arguments),j.toggleOption&&j.toggleOption({label:l,value:Z.value})},F.name=j.name,F.checked=-1!==j.value.indexOf(Z.value));var A=i()((t={},(0,r.Z)(t,"".concat(K,"-wrapper"),!0),(0,r.Z)(t,"".concat(K,"-rtl"),"rtl"===w),(0,r.Z)(t,"".concat(K,"-wrapper-checked"),F.checked),(0,r.Z)(t,"".concat(K,"-wrapper-disabled"),I),(0,r.Z)(t,"".concat(K,"-wrapper-in-form-item"),P),t),u),M=i()((0,r.Z)({},"".concat(K,"-indeterminate"),c)),V=c?"mixed":void 0;return p.createElement("label",{className:A,style:d,onMouseEnter:f,onMouseLeave:v},p.createElement(m,(0,o.Z)({"aria-checked":V},F,{prefixCls:K,className:M,disabled:I,ref:n})),void 0!==l&&p.createElement("span",null,l))};var P=p.forwardRef(j),E=P;E.Group=w,E.__ANT_CHECKBOX=!0;var I=E},87752:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signin",function(){return t(69120)}])},69120:function(e,n,t){"use strict";t.r(n);var r=t(47568),o=t(828),a=t(34051),i=t.n(a),u=t(85893),l=(t(62091),t(87547)),s=t(94149),c=t(93940),d=t(79531),f=t(87782),p=t(71577),v=t(67294),m=t(9669),h=t.n(m),y=t(11163),g=t(71230),b=t(15746),x=t(86501),Z=t(40730),k=function(){var e=(0,v.useContext)(Z.V),n=e[0],t=e[1],a=(0,v.useState)(!1),m=(a[0],a[1]),g=(0,y.useRouter)(),b=(0,o.Z)(c.Z.useForm(),1)[0];(0,v.useEffect)((function(){(null===n||void 0===n?void 0:n.token)&&g.push("/")}),[n]);var k=function(){var e=(0,r.Z)(i().mark((function e(n){var r,o,a,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,h().post("/signin",n);case 4:(null===(r=e.sent.data)||void 0===r?void 0:r.error)?(x.ZP.error(r.error),m(!1)):(console.log("SignIN response: ",r),t(r),localStorage.setItem("auth",JSON.stringify(r)),m(!1),"Admin"===(null===r||void 0===r||null===(o=r.user)||void 0===o?void 0:o.role)?(x.ZP.success("Successfully Signed In - Welcome to NightKing-CMS"),g.push("/admin")):"Author"===(null===r||void 0===r||null===(a=r.user)||void 0===a?void 0:a.role)?(x.ZP.success("Successfully Signed In - Welcome to NightKing-CMS"),g.push("/author")):"Author"===(null===r||void 0===r||null===(u=r.user)||void 0===u?void 0:u.role)?(x.ZP.success("Successfully Signed In - Welcome to NightKing-CMS"),g.push("/subscriber")):x.ZP.error("Sign in failed"),b.resetFields()),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),m(!1),x.ZP.error("SignIN failed");case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}();return(0,u.jsxs)(c.Z,{form:b,name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:k,children:[(0,u.jsx)(c.Z.Item,{name:"email",rules:[{required:!0,message:"Please input your Username!"}],children:(0,u.jsx)(d.Z,{prefix:(0,u.jsx)(l.Z,{className:"site-form-item-icon"}),placeholder:"Username"})}),(0,u.jsx)(c.Z.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:(0,u.jsx)(d.Z,{prefix:(0,u.jsx)(s.Z,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),(0,u.jsxs)(c.Z.Item,{children:[(0,u.jsx)(c.Z.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:(0,u.jsx)(f.Z,{children:"Remember me"})}),(0,u.jsx)("a",{className:"login-form-forgot",href:"/forgot-password",children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 Forgot password??"})]}),(0,u.jsxs)(c.Z.Item,{children:[(0,u.jsx)(p.Z,{type:"primary",htmlType:"submit",className:"login-form-button",children:"Log in"}),"\xa0Or ",(0,u.jsx)("a",{href:"/signup",children:" register now!"})]})]})};n.default=function(){return(0,u.jsx)(g.Z,{children:(0,u.jsxs)(b.Z,{span:8,offset:8,children:[(0,u.jsx)("h1",{style:{paddingTop:"100px"},children:" Sign In "}),(0,u.jsx)(k,{})]})})}},20943:function(e,n,t){"use strict";function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}t.d(n,{Z:function(){return r}})},13375:function(e,n,t){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}t.d(n,{Z:function(){return r}})},828:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(13375);var o=t(91566);function a(e,n){return function(e){if(Array.isArray(e))return e}(e)||(0,r.Z)(e,n)||(0,o.Z)(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},91566:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(20943);function o(e,n){if(e){if("string"===typeof e)return(0,r.Z)(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?(0,r.Z)(e,n):void 0}}}},function(e){e.O(0,[7643,6135,5567,3940,819,9774,2888,179],(function(){return n=87752,e(e.s=n);var n}));var n=e.O();_N_E=n}]);