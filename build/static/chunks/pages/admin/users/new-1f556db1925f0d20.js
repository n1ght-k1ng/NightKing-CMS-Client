(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7102],{72910:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/users/new",function(){return r(24412)}])},15330:function(e,n,r){"use strict";var s=r(85893),t=r(67294),i=r(11163);n.Z=function(e){var n=e.path,r=void 0===n?"/":n,a=(0,t.useState)(3),c=a[0],l=a[1],d=(0,i.useRouter)();return(0,t.useEffect)((function(){var e=setInterval((function(){l(c-1)}),1e3);return 0===c&&(clearInterval(e),d.push(r)),function(){return clearInterval(e)}}),[c]),(0,s.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,s.jsxs)("p",{children:[" Redirecting in ",c," seconds"]})})}},87522:function(e,n,r){"use strict";r.d(n,{Z:function(){return _}});var s=r(47568),t=r(34051),i=r.n(t),a=r(85893),c=r(97183),l=r(67294),d=r(19820),u=r(41664),o=r.n(u),x=r(61715),h=r(40730),m=r(42952),p=r(57184),f=r(88916),j=r(71255),v=r(80275),Z=r(87547),g=r(69980),w=d.Z.SubMenu,y=c.Z.Sider,b=function(){var e,n,r=(0,l.useState)(!1),s=r[0],t=r[1],i=(0,l.useState)(""),c=i[0],u=i[1],b=(0,x.Lm)(),N=(0,l.useContext)(h.V),C=N[0];N[1];(0,l.useEffect)((function(){u(window.location.pathname)}),[window.location.pathname]),(0,l.useEffect)((function(){b<650?t(!0):b>650&&t(!1)}),[b<650]);var S=function(e){return"".concat(c===e&&"active")};return(0,a.jsx)(y,{collapsible:!0,collapsed:s,onCollapse:function(){return t(!s)},children:(0,a.jsxs)(d.Z,{defaultOpenKeys:["2","6","10"],mode:"inline",inlineCollapsed:s,children:[(0,a.jsx)(d.Z.Item,{icon:(0,a.jsx)(m.Z,{}),children:(0,a.jsx)(o(),{href:"/admin",children:(0,a.jsx)("a",{className:S("/admin"),children:"Dashboard"})})},"1"),(0,a.jsxs)(w,{icon:(0,a.jsx)(p.Z,{}),title:"Posts",children:[(0,a.jsx)(d.Z.Item,{children:(0,a.jsx)(o(),{href:"/admin/posts",children:(0,a.jsx)("a",{className:S("/admin/posts"),children:"All Posts"})})},"3"),(0,a.jsx)(d.Z.Item,{children:(0,a.jsx)(o(),{href:"/admin/posts/new",children:(0,a.jsx)("a",{className:S("/admin/posts/new"),children:"Add New"})})},"4"),(0,a.jsx)(d.Z.Item,{children:(0,a.jsx)(o(),{href:"/admin/categories",children:(0,a.jsx)("a",{className:S("/admin/categories"),children:"Categories"})})},"5")]},"2"),(0,a.jsxs)(w,{icon:(0,a.jsx)(f.Z,{}),title:"Media",children:[(0,a.jsx)(d.Z.Item,{children:(0,a.jsx)(o(),{href:"/admin/media/library",children:(0,a.jsx)("a",{className:S("/admin/media/library"),children:"Library"})})},"7"),(0,a.jsx)(d.Z.Item,{children:(0,a.jsx)(o(),{href:"/admin/media/new",children:(0,a.jsx)("a",{className:S("/admin/media/new"),children:"Add New"})})},"8")]},"6"),(0,a.jsx)(d.Z.Item,{icon:(0,a.jsx)(j.Z,{}),children:(0,a.jsx)(o(),{href:"/admin/comments",children:(0,a.jsx)("a",{className:S("/admin/comments"),children:"Comments"})})},"9"),(0,a.jsxs)(w,{icon:(0,a.jsx)(v.Z,{}),title:"Users",children:[(0,a.jsx)(d.Z.Item,{children:(0,a.jsx)(o(),{href:"/admin/users",children:(0,a.jsx)("a",{className:S("/admin/users"),children:"All Users"})})},"11"),(0,a.jsx)(d.Z.Item,{children:(0,a.jsx)(o(),{href:"/admin/users/new",children:(0,a.jsx)("a",{className:S("/admin/users/new"),children:"Add New"})})},"12")]},"10"),(0,a.jsx)(d.Z.Item,{icon:(0,a.jsx)(Z.Z,{}),children:(0,a.jsx)(o(),{href:"/admin/".concat(null===C||void 0===C||null===(e=C.user)||void 0===e?void 0:e._id),children:(0,a.jsx)("a",{className:S("/admin/".concat(null===C||void 0===C||null===(n=C.user)||void 0===n?void 0:n._id)),children:"Profile"})})},"13"),(0,a.jsx)(d.Z.Item,{icon:(0,a.jsx)(g.Z,{}),children:(0,a.jsx)(o(),{href:"/admin/customize",children:(0,a.jsx)("a",{className:S("/admin/customise"),children:"Customize"})})},"14")]})})},N=r(11163),C=r(15330),S=r(9669),k=r.n(S),I=(r(62091),c.Z.Content);var _=function(e){var n=(0,l.useContext)(h.V),r=n[0],t=(n[1],(0,l.useState)(!0)),d=t[0],u=t[1];(0,l.useEffect)((function(){(null===r||void 0===r?void 0:r.token)&&o(),u(!1)}),[null===r||void 0===r?void 0:r.token]);var o=function(){var e=(0,s.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k().get("/current-admin");case 3:e.sent.data,u(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),x.push("/");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),x=(0,N.useRouter)();return d?(0,a.jsx)(C.Z,{}):(0,a.jsx)(c.Z,{children:(0,a.jsxs)(c.Z,{children:[(0,a.jsx)(b,{}),(0,a.jsx)(I,{style:{padding:"10px"},children:e.children})]})})}},24412:function(e,n,r){"use strict";r.r(n);var s=r(47568),t=r(34051),i=r.n(t),a=r(85893),c=r(67294),l=r(87522),d=r(71230),u=r(15746),o=r(27049),x=r(79531),h=r(71577),m=r(9835),p=r(87782),f=r(9669),j=r.n(f),v=r(86501),Z=(r(11163),r(3269));n.default=function(){var e=(0,c.useState)(""),n=e[0],r=e[1],t=(0,c.useState)(""),f=t[0],g=t[1],w=(0,c.useState)(""),y=w[0],b=w[1],N=(0,c.useState)(Z.generate({length:6})),C=N[0],S=N[1],k=(0,c.useState)(""),I=k[0],_=k[1],A=(0,c.useState)(!1),E=A[0],P=A[1],z=(0,c.useState)(""),O=z[0],U=z[1],R=function(){var e=(0,s.Z)(i().mark((function e(r){var s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,P(!0),e.next=5,j().post("/create-user",{name:n,email:f,Website:y,password:C,role:I,checked:O});case 5:(s=e.sent.data).error?(v.Am.error(s.error),P(!1)):(v.Am.success("User created successfully"),P(!1)),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),v.Am.error("Signup failed, Try again"),P(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(n){return e.apply(this,arguments)}}();return(0,a.jsx)(l.Z,{children:(0,a.jsx)(d.Z,{children:(0,a.jsxs)(u.Z,{span:12,offset:6,children:[(0,a.jsx)(o.Z,{style:{marginBottom:"-10px"},children:"Add new user"}),(0,a.jsx)(x.Z,{style:{margin:"20px 0px 10px 0px"},size:"large",placeholder:"Full Name",value:n,onChange:function(e){return r(e.target.value)}}),(0,a.jsx)(x.Z,{style:{margin:"10px 0px 10px 0px"},size:"large",placeholder:"Email",value:f,onChange:function(e){return g(e.target.value)}}),(0,a.jsx)(x.Z,{style:{margin:"10px 0px 10px 0px"},size:"large",placeholder:"Website",value:y,onChange:function(e){return b(e.target.value)}}),(0,a.jsxs)("div",{style:{display:"flex"},children:[(0,a.jsx)(h.Z,{onClick:function(){return S(Z.generate({length:6}))},type:"default",size:"large",style:{margin:"20px 0px 10px 0px"},children:"Generate Password"}),(0,a.jsx)(x.Z.Password,{style:{margin:"20px 0px 10px 0px"},size:"large",placeholder:"Enter Password",value:C,onChange:function(e){return S(e.target.value)}})]}),(0,a.jsxs)(m.Z,{defaultValue:"Subscriber",style:{margin:"20px 0px 10px 0px",width:"100%"},onChange:function(e){return _(e)},children:[(0,a.jsx)(m.Z.Option,{value:"Subscriber",children:" Subscriber "}),(0,a.jsx)(m.Z.Option,{value:"Author",children:" Author "}),(0,a.jsx)(m.Z.Option,{value:"Admin",children:" Admin "})]}),(0,a.jsx)(p.Z,{checked:O,onChange:function(e){return U(e.target.checked)},children:"Send the new User an Email about their account"}),(0,a.jsx)(h.Z,{onClick:R,type:"default",style:{margin:"20px 0px 10px 0px"},loading:E,block:!0,children:"Submit"})]})})})}}},function(e){e.O(0,[3714,7643,6135,5567,9835,3573,9774,2888,179],(function(){return n=72910,e(e.s=n);var n}));var n=e.O();_N_E=n}]);