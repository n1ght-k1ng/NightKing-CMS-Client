(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9568],{88916:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var r=n(1413),c=n(67294),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 248H728l-32.4-90.8a32.07 32.07 0 00-30.2-21.2H358.6c-13.5 0-25.6 8.5-30.1 21.2L296 248H160c-44.2 0-80 35.8-80 80v456c0 44.2 35.8 80 80 80h704c44.2 0 80-35.8 80-80V328c0-44.2-35.8-80-80-80zm8 536c0 4.4-3.6 8-8 8H160c-4.4 0-8-3.6-8-8V328c0-4.4 3.6-8 8-8h186.7l17.1-47.8 22.9-64.2h250.5l22.9 64.2 17.1 47.8H864c4.4 0 8 3.6 8 8v456zM512 384c-88.4 0-160 71.6-160 160s71.6 160 160 160 160-71.6 160-160-71.6-160-160-160zm0 256c-53 0-96-43-96-96s43-96 96-96 96 43 96 96-43 96-96 96z"}}]},name:"camera",theme:"outlined"},a=n(42135),i=function(t,e){return c.createElement(a.Z,(0,r.Z)((0,r.Z)({},t),{},{ref:e,icon:o}))};i.displayName="CameraOutlined";var s=c.forwardRef(i)},71255:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var r=n(1413),c=n(67294),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M573 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40zm-280 0c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40z"}},{tag:"path",attrs:{d:"M894 345a343.92 343.92 0 00-189-130v.1c-17.1-19-36.4-36.5-58-52.1-163.7-119-393.5-82.7-513 81-96.3 133-92.2 311.9 6 439l.8 132.6c0 3.2.5 6.4 1.5 9.4a31.95 31.95 0 0040.1 20.9L309 806c33.5 11.9 68.1 18.7 102.5 20.6l-.5.4c89.1 64.9 205.9 84.4 313 49l127.1 41.4c3.2 1 6.5 1.6 9.9 1.6 17.7 0 32-14.3 32-32V753c88.1-119.6 90.4-284.9 1-408zM323 735l-12-5-99 31-1-104-8-9c-84.6-103.2-90.2-251.9-11-361 96.4-132.2 281.2-161.4 413-66 132.2 96.1 161.5 280.6 66 412-80.1 109.9-223.5 150.5-348 102zm505-17l-8 10 1 104-98-33-12 5c-56 20.8-115.7 22.5-171 7l-.2-.1A367.31 367.31 0 00729 676c76.4-105.3 88.8-237.6 44.4-350.4l.6.4c23 16.5 44.1 37.1 62 62 72.6 99.6 68.5 235.2-8 330z"}},{tag:"path",attrs:{d:"M433 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40z"}}]},name:"comment",theme:"outlined"},a=n(42135),i=function(t,e){return c.createElement(a.Z,(0,r.Z)((0,r.Z)({},t),{},{ref:e,icon:o}))};i.displayName="CommentOutlined";var s=c.forwardRef(i)},24969:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var r=n(1413),c=n(67294),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},a=n(42135),i=function(t,e){return c.createElement(a.Z,(0,r.Z)((0,r.Z)({},t),{},{ref:e,icon:o}))};i.displayName="PlusOutlined";var s=c.forwardRef(i)},57184:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var r=n(1413),c=n(67294),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M878.3 392.1L631.9 145.7c-6.5-6.5-15-9.7-23.5-9.7s-17 3.2-23.5 9.7L423.8 306.9c-12.2-1.4-24.5-2-36.8-2-73.2 0-146.4 24.1-206.5 72.3a33.23 33.23 0 00-2.7 49.4l181.7 181.7-215.4 215.2a15.8 15.8 0 00-4.6 9.8l-3.4 37.2c-.9 9.4 6.6 17.4 15.9 17.4.5 0 1 0 1.5-.1l37.2-3.4c3.7-.3 7.2-2 9.8-4.6l215.4-215.4 181.7 181.7c6.5 6.5 15 9.7 23.5 9.7 9.7 0 19.3-4.2 25.9-12.4 56.3-70.3 79.7-158.3 70.2-243.4l161.1-161.1c12.9-12.8 12.9-33.8 0-46.8zM666.2 549.3l-24.5 24.5 3.8 34.4a259.92 259.92 0 01-30.4 153.9L262 408.8c12.9-7.1 26.3-13.1 40.3-17.9 27.2-9.4 55.7-14.1 84.7-14.1 9.6 0 19.3.5 28.9 1.6l34.4 3.8 24.5-24.5L608.5 224 800 415.5 666.2 549.3z"}}]},name:"pushpin",theme:"outlined"},a=n(42135),i=function(t,e){return c.createElement(a.Z,(0,r.Z)((0,r.Z)({},t),{},{ref:e,icon:o}))};i.displayName="PushpinOutlined";var s=c.forwardRef(i)},61715:function(t,e,n){"use strict";n.d(e,{Lm:function(){return f}});var r=n(67294);var c=t=>{const e=r.useRef(t);return r.useEffect((()=>{e.current=t})),e};const o=(t,e=100,n=!1)=>{const o=c(t),a=r.useRef(),i=[e,n,o];function s(){a.current&&clearTimeout(a.current),a.current=void 0}function u(){a.current=void 0}return r.useEffect((()=>s),i),r.useCallback((function(){const t=arguments,{current:r}=a;if(void 0===r&&n)return a.current=setTimeout(u,e),o.current.apply(null,t);r&&clearTimeout(r),a.current=setTimeout((()=>{a.current=void 0,o.current.apply(null,t)}),e)}),i)};var a=function(t,e,n,c){const o=r.useRef(n),a=r.useRef(c);r.useEffect((()=>{o.current=n,a.current=c})),r.useEffect((()=>{const n=t&&"current"in t?t.current:t;if(!n)return;let r=0;function c(...t){r||o.current.apply(this,t)}n.addEventListener(e,c);const i=a.current;return()=>{r=1,n.removeEventListener(e,c),i&&i()}}),[t,e])};const i={},s="undefined"===typeof window?null:window,u=()=>[document.documentElement.clientWidth,document.documentElement.clientHeight],l=(t=i)=>{const{wait:e,leading:n,initialWidth:c=0,initialHeight:l=0}=t,[f,d]=((t,e,n)=>{const c=r.useState(t);return[c[0],o(c[1],e,n)]})("undefined"===typeof document?[c,l]:u,e,n),p=()=>d(u);return a(s,"resize",p),a(s,"orientationchange",p),f},f=t=>l(t)[0]},57838:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(97685),c=n(67294);function o(){var t=c.useReducer((function(t){return t+1}),0);return(0,r.Z)(t,2)[1]}},24308:function(t,e,n){"use strict";n.d(e,{c4:function(){return o}});var r=n(4942),c=n(87462),o=["xxl","xl","lg","md","sm","xs"],a={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},i=new Map,s=-1,u={},l={matchHandlers:{},dispatch:function(t){return u=t,i.forEach((function(t){return t(u)})),i.size>=1},subscribe:function(t){return i.size||this.register(),s+=1,i.set(s,t),t(u),s},unsubscribe:function(t){i.delete(t),i.size||this.unregister()},unregister:function(){var t=this;Object.keys(a).forEach((function(e){var n=a[e],r=t.matchHandlers[n];null===r||void 0===r||r.mql.removeListener(null===r||void 0===r?void 0:r.listener)})),i.clear()},register:function(){var t=this;Object.keys(a).forEach((function(e){var n=a[e],o=function(n){var o=n.matches;t.dispatch((0,c.Z)((0,c.Z)({},u),(0,r.Z)({},e,o)))},i=window.matchMedia(n);i.addListener(o),t.matchHandlers[n]={mql:i,listener:o},o(i)}))}};e.ZP=l},9708:function(t,e,n){"use strict";n.d(e,{F:function(){return i},Z:function(){return a}});var r=n(4942),c=n(94184),o=n.n(c);(0,n(93355).b)("warning","error","");function a(t,e,n){var c;return o()((c={},(0,r.Z)(c,"".concat(t,"-status-success"),"success"===e),(0,r.Z)(c,"".concat(t,"-status-warning"),"warning"===e),(0,r.Z)(c,"".concat(t,"-status-error"),"error"===e),(0,r.Z)(c,"".concat(t,"-status-validating"),"validating"===e),(0,r.Z)(c,"".concat(t,"-has-feedback"),n),c))}var i=function(t,e){return e||t}},31808:function(t,e,n){"use strict";n.d(e,{fk:function(){return a},jD:function(){return o}});var r,c=n(98924),o=function(){return(0,c.Z)()&&window.document.documentElement},a=function(){if(!o())return!1;if(void 0!==r)return r;var t=document.createElement("div");return t.style.display="flex",t.style.flexDirection="column",t.style.rowGap="1px",t.appendChild(document.createElement("div")),t.appendChild(document.createElement("div")),document.body.appendChild(t),r=1===t.scrollHeight,document.body.removeChild(t),r}},15746:function(t,e,n){"use strict";var r=n(21584);e.Z=r.Z},65223:function(t,e,n){"use strict";n.d(e,{RV:function(){return u},Rk:function(){return l},Ux:function(){return d},aM:function(){return f},q3:function(){return i},qI:function(){return s}});var r=n(87462),c=n(71990),o=n(98423),a=n(67294),i=a.createContext({labelAlign:"right",vertical:!1,itemRef:function(){}}),s=a.createContext(null),u=function(t){var e=(0,o.Z)(t,["prefixCls"]);return a.createElement(c.RV,(0,r.Z)({},e))},l=a.createContext({prefixCls:""}),f=a.createContext({}),d=function(t){var e=t.children,n=t.status,c=t.override,o=(0,a.useContext)(f),i=(0,a.useMemo)((function(){var t=(0,r.Z)({},o);return c&&delete t.isFormItemInput,n&&(delete t.status,delete t.hasFeedback,delete t.feedbackIcon),t}),[n,c,o]);return a.createElement(f.Provider,{value:i},e)}},99134:function(t,e,n){"use strict";var r=(0,n(67294).createContext)({});e.Z=r},21584:function(t,e,n){"use strict";var r=n(4942),c=n(87462),o=n(71002),a=n(94184),i=n.n(a),s=n(67294),u=n(53124),l=n(99134),f=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(r=Object.getOwnPropertySymbols(t);c<r.length;c++)e.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(t,r[c])&&(n[r[c]]=t[r[c]])}return n};var d=["xs","sm","md","lg","xl","xxl"],p=s.forwardRef((function(t,e){var n,a=s.useContext(u.E_),p=a.getPrefixCls,h=a.direction,v=s.useContext(l.Z),m=v.gutter,x=v.wrap,Z=v.supportFlexGap,g=t.prefixCls,y=t.span,j=t.order,w=t.offset,b=t.push,E=t.pull,O=t.className,C=t.children,P=t.flex,k=t.style,N=f(t,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),R=p("col",g),I={};d.forEach((function(e){var n,a={},i=t[e];"number"===typeof i?a.span=i:"object"===(0,o.Z)(i)&&(a=i||{}),delete N[e],I=(0,c.Z)((0,c.Z)({},I),(n={},(0,r.Z)(n,"".concat(R,"-").concat(e,"-").concat(a.span),void 0!==a.span),(0,r.Z)(n,"".concat(R,"-").concat(e,"-order-").concat(a.order),a.order||0===a.order),(0,r.Z)(n,"".concat(R,"-").concat(e,"-offset-").concat(a.offset),a.offset||0===a.offset),(0,r.Z)(n,"".concat(R,"-").concat(e,"-push-").concat(a.push),a.push||0===a.push),(0,r.Z)(n,"".concat(R,"-").concat(e,"-pull-").concat(a.pull),a.pull||0===a.pull),(0,r.Z)(n,"".concat(R,"-rtl"),"rtl"===h),n))}));var _=i()(R,(n={},(0,r.Z)(n,"".concat(R,"-").concat(y),void 0!==y),(0,r.Z)(n,"".concat(R,"-order-").concat(j),j),(0,r.Z)(n,"".concat(R,"-offset-").concat(w),w),(0,r.Z)(n,"".concat(R,"-push-").concat(b),b),(0,r.Z)(n,"".concat(R,"-pull-").concat(E),E),n),O,I),z={};if(m&&m[0]>0){var M=m[0]/2;z.paddingLeft=M,z.paddingRight=M}if(m&&m[1]>0&&!Z){var S=m[1]/2;z.paddingTop=S,z.paddingBottom=S}return P&&(z.flex=function(t){return"number"===typeof t?"".concat(t," ").concat(t," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(t)?"0 0 ".concat(t):t}(P),!1!==x||z.minWidth||(z.minWidth=0)),s.createElement("div",(0,c.Z)({},N,{style:(0,c.Z)((0,c.Z)({},z),k),className:_,ref:e}),C)}));e.Z=p},7045:function(t,e,n){"use strict";n.d(e,{Z:function(){return m}});var r=n(87462),c=n(4942),o=n(71002),a=n(97685),i=n(94184),s=n.n(i),u=n(67294),l=n(53124),f=n(31808),d=n(24308),p=n(93355),h=n(99134),v=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(r=Object.getOwnPropertySymbols(t);c<r.length;c++)e.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(t,r[c])&&(n[r[c]]=t[r[c]])}return n};(0,p.b)("top","middle","bottom","stretch"),(0,p.b)("start","end","center","space-around","space-between","space-evenly");var m=u.forwardRef((function(t,e){var n,i=t.prefixCls,p=t.justify,m=t.align,x=t.className,Z=t.style,g=t.children,y=t.gutter,j=void 0===y?0:y,w=t.wrap,b=v(t,["prefixCls","justify","align","className","style","children","gutter","wrap"]),E=u.useContext(l.E_),O=E.getPrefixCls,C=E.direction,P=u.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),k=(0,a.Z)(P,2),N=k[0],R=k[1],I=function(){var t=u.useState(!1),e=(0,a.Z)(t,2),n=e[0],r=e[1];return u.useEffect((function(){r((0,f.fk)())}),[]),n}(),_=u.useRef(j);u.useEffect((function(){var t=d.ZP.subscribe((function(t){var e=_.current||0;(!Array.isArray(e)&&"object"===(0,o.Z)(e)||Array.isArray(e)&&("object"===(0,o.Z)(e[0])||"object"===(0,o.Z)(e[1])))&&R(t)}));return function(){return d.ZP.unsubscribe(t)}}),[]);var z=O("row",i),M=function(){var t=[void 0,void 0];return(Array.isArray(j)?j:[j,void 0]).forEach((function(e,n){if("object"===(0,o.Z)(e))for(var r=0;r<d.c4.length;r++){var c=d.c4[r];if(N[c]&&void 0!==e[c]){t[n]=e[c];break}}else t[n]=e})),t}(),S=s()(z,(n={},(0,c.Z)(n,"".concat(z,"-no-wrap"),!1===w),(0,c.Z)(n,"".concat(z,"-").concat(p),p),(0,c.Z)(n,"".concat(z,"-").concat(m),m),(0,c.Z)(n,"".concat(z,"-rtl"),"rtl"===C),n),x),L={},A=null!=M[0]&&M[0]>0?M[0]/-2:void 0,H=null!=M[1]&&M[1]>0?M[1]/-2:void 0;if(A&&(L.marginLeft=A,L.marginRight=A),I){var q=(0,a.Z)(M,2);L.rowGap=q[1]}else H&&(L.marginTop=H,L.marginBottom=H);var D=(0,a.Z)(M,2),T=D[0],V=D[1],B=u.useMemo((function(){return{gutter:[T,V],wrap:w,supportFlexGap:I}}),[T,V,w,I]);return u.createElement(h.Z.Provider,{value:B},u.createElement("div",(0,r.Z)({},b,{className:S,style:(0,r.Z)((0,r.Z)({},L),Z),ref:e}),g))}))},97183:function(t,e,n){"use strict";var r=n(2897),c=n(7293),o=r.ZP;o.Header=r.h4,o.Footer=r.$_,o.Content=r.VY,o.Sider=c.Z,e.Z=o},71230:function(t,e,n){"use strict";var r=n(7045);e.Z=r.Z},60475:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/author/posts",function(){return n(45638)}])},15330:function(t,e,n){"use strict";var r=n(85893),c=n(67294),o=n(11163);e.Z=function(t){var e=t.path,n=void 0===e?"/":e,a=(0,c.useState)(3),i=a[0],s=a[1],u=(0,o.useRouter)();return(0,c.useEffect)((function(){var t=setInterval((function(){s(i-1)}),1e3);return 0===i&&(clearInterval(t),u.push(n)),function(){return clearInterval(t)}}),[i]),(0,r.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,r.jsxs)("p",{children:[" Redirecting in ",i," seconds"]})})}},75774:function(t,e,n){"use strict";var r=n(47568),c=n(34051),o=n.n(c),a=n(85893),i=n(97183),s=n(67294),u=n(64512),l=n(40730),f=n(11163),d=n(15330),p=n(9669),h=n.n(p),v=(n(62091),i.Z.Content);e.Z=function(t){var e=(0,s.useContext)(l.V),n=e[0],c=(e[1],(0,s.useState)(!0)),p=c[0],m=c[1];(0,s.useEffect)((function(){(null===n||void 0===n?void 0:n.token)&&x(),m(!1)}),[null===n||void 0===n?void 0:n.token]);var x=function(){var t=(0,r.Z)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h().get("/current-author");case 3:t.sent.data,m(!1),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),Z.push("/");case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),Z=(0,f.useRouter)();return p?(0,a.jsx)(d.Z,{}):(0,a.jsx)(i.Z,{children:(0,a.jsxs)(i.Z,{children:[(0,a.jsx)(u.Z,{}),(0,a.jsx)(v,{style:{padding:"10px"},children:t.children})]})})}},64512:function(t,e,n){"use strict";var r=n(85893),c=n(67294),o=n(19820),a=n(97183),i=n(41664),s=n.n(i),u=n(61715),l=n(40730),f=n(42952),d=n(57184),p=n(88916),h=n(71255),v=n(87547),m=o.Z.SubMenu,x=a.Z.Sider;e.Z=function(){var t,e=(0,c.useContext)(l.V),n=e[0],a=(e[1],(0,c.useState)(!1)),i=a[0],Z=a[1],g=(0,c.useState)(""),y=g[0],j=g[1],w=(0,u.Lm)();(0,c.useEffect)((function(){j(window.location.pathname)}),[window.location.pathname]),(0,c.useEffect)((function(){w<650?Z(!0):w>650&&Z(!1)}),[w<650]);var b=function(t){return"".concat(y===t&&"active")};return(0,r.jsx)(x,{collapsible:!0,collapsed:i,onCollapse:function(){return Z(!i)},children:(0,r.jsxs)(o.Z,{defaultOpenKeys:["2","6","10"],mode:"inline",inlineCollapsed:i,children:[(0,r.jsx)(o.Z.Item,{icon:(0,r.jsx)(f.Z,{}),children:(0,r.jsx)(s(),{href:"/author",children:(0,r.jsx)("a",{className:b("/author"),children:"Dashboard"})})},"1"),(0,r.jsxs)(m,{icon:(0,r.jsx)(d.Z,{}),title:"Posts",children:[(0,r.jsx)(o.Z.Item,{children:(0,r.jsx)(s(),{href:"/author/posts",children:(0,r.jsx)("a",{className:b("/author/posts"),children:"All Posts"})})},"3"),(0,r.jsx)(o.Z.Item,{children:(0,r.jsx)(s(),{href:"/author/posts/new",children:(0,r.jsx)("a",{className:b("/author/posts/new"),children:"Add New"})})},"4")]},"2"),(0,r.jsxs)(m,{icon:(0,r.jsx)(p.Z,{}),title:"Media",children:[(0,r.jsx)(o.Z.Item,{children:(0,r.jsx)(s(),{href:"/author/media/library",children:(0,r.jsx)("a",{className:b("/author/media/library"),children:"Library"})})},"7"),(0,r.jsx)(o.Z.Item,{children:(0,r.jsx)(s(),{href:"/author/media/new",children:(0,r.jsx)("a",{className:b("/author/media/new"),children:"Add New"})})},"8")]},"6"),(0,r.jsx)(o.Z.Item,{icon:(0,r.jsx)(h.Z,{}),children:(0,r.jsx)(s(),{href:"/author/comments",children:(0,r.jsx)("a",{className:b("/author/comments"),children:"Comments"})})},"9"),(0,r.jsx)(o.Z.Item,{icon:(0,r.jsx)(v.Z,{}),children:(0,r.jsx)(s(),{href:"/author/".concat(null===n||void 0===n||null===(t=n.user)||void 0===t?void 0:t._id),children:(0,r.jsx)("a",{className:b("/author/".concat(null===n||void 0===n?void 0:n.user._id)),children:"Profile"})})},"13")]})})}},45433:function(t,e,n){"use strict";var r=n(85893),c=n(97259);n(41664);e.Z=function(t){var e=t.posts,n=t.handleDelete,o=t.handleEdit;return(0,r.jsx)(c.ZP,{itemLayout:"horizontal",dataSource:e,renderItem:function(t){return(0,r.jsx)(c.ZP.Item,{actions:[(0,r.jsx)("a",{onClick:function(){return o(t)},children:" edit "}),(0,r.jsx)("a",{onClick:function(){return n(t)},children:" delete "})],children:(0,r.jsx)(c.ZP.Item.Meta,{title:t.title})})}})}},45638:function(t,e,n){"use strict";n.r(e);var r=n(47568),c=n(26042),o=n(69396),a=n(34051),i=n.n(a),s=n(85893),u=n(9669),l=n.n(u),f=n(67294),d=n(76031),p=n(71230),h=n(15746),v=n(71577),m=n(75774),x=n(41664),Z=n.n(x),g=n(11163),y=n(24969),j=n(45433);e.default=function(){var t=(0,f.useContext)(d.W),e=t[0],n=t[1],a=(0,g.useRouter)(),u=e.posts;console.log("posts from context",e),(0,f.useEffect)((function(){x()}),[]);var x=function(){var t=(0,r.Z)(i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l().get("/posts-by-author");case 3:e=t.sent.data,n((function(t){return(0,o.Z)((0,c.Z)({},t),{posts:e})})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),w=function(){var t=(0,r.Z)(i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",a.push("/author/posts/".concat(e.slug)));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=(0,r.Z)(i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!window.confirm("Are you sure you want to delete this post?")){t.next=9;break}return t.next=5,l().delete("/post/".concat(e._id));case 5:t.sent.data.ok&&n((function(t){return(0,o.Z)((0,c.Z)({},t),{posts:t.posts.filter((function(t){return t._id!==e._id}))})})),t.next=10;break;case 9:return t.abrupt("return");case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:console.log("Delete",e);case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}();return(0,s.jsx)(m.Z,{children:(0,s.jsx)(p.Z,{children:(0,s.jsxs)(h.Z,{span:24,children:[(0,s.jsx)(v.Z,{type:"primary",style:{margin:"10px 0px 10px 0px"},children:(0,s.jsx)(Z(),{href:"/author/posts/new",children:(0,s.jsxs)("a",{children:[(0,s.jsx)(y.Z,{})," Add new"]})})}),(0,s.jsxs)("h1",{style:{marginTop:15},children:[" ",null===u||void 0===u?void 0:u.length," Posts "]}),(0,s.jsx)(j.Z,{posts:u,handleEdit:w,handleDelete:b})]})})})}},69396:function(t,e,n){"use strict";function r(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t}n.d(e,{Z:function(){return r}})}},function(t){t.O(0,[7643,6135,9835,7259,9774,2888,179],(function(){return e=60475,t(t.s=e);var e}));var e=t.O();_N_E=e}]);