"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3456],{15330:function(e,n,s){var i=s(85893),a=s(67294),t=s(11163);n.Z=function(e){var n=e.path,s=void 0===n?"/":n,r=(0,a.useState)(3),c=r[0],l=r[1],d=(0,t.useRouter)();return(0,a.useEffect)((function(){var e=setInterval((function(){l(c-1)}),1e3);return 0===c&&(clearInterval(e),d.push(s)),function(){return clearInterval(e)}}),[c]),(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,i.jsxs)("p",{children:[" Redirecting in ",c," seconds"]})})}},87522:function(e,n,s){s.d(n,{Z:function(){return E}});var i=s(47568),a=s(34051),t=s.n(a),r=s(85893),c=s(97183),l=s(67294),d=s(19820),o=s(41664),u=s.n(o),h=s(61715),m=s(40730),f=s(42952),x=s(57184),j=s(88916),p=s(71255),Z=s(80275),v=s(87547),w=s(69980),g=d.Z.SubMenu,C=c.Z.Sider,N=function(){var e,n,s=(0,l.useState)(!1),i=s[0],a=s[1],t=(0,l.useState)(""),c=t[0],o=t[1],N=(0,h.Lm)(),I=(0,l.useContext)(m.V),b=I[0];I[1];(0,l.useEffect)((function(){o(window.location.pathname)}),[window.location.pathname]),(0,l.useEffect)((function(){N<650?a(!0):N>650&&a(!1)}),[N<650]);var y=function(e){return"".concat(c===e&&"active")};return(0,r.jsx)(C,{collapsible:!0,collapsed:i,onCollapse:function(){return a(!i)},children:(0,r.jsxs)(d.Z,{defaultOpenKeys:["2","6","10"],mode:"inline",inlineCollapsed:i,children:[(0,r.jsx)(d.Z.Item,{icon:(0,r.jsx)(f.Z,{}),children:(0,r.jsx)(u(),{href:"/admin",children:(0,r.jsx)("a",{className:y("/admin"),children:"Dashboard"})})},"1"),(0,r.jsxs)(g,{icon:(0,r.jsx)(x.Z,{}),title:"Posts",children:[(0,r.jsx)(d.Z.Item,{children:(0,r.jsx)(u(),{href:"/admin/posts",children:(0,r.jsx)("a",{className:y("/admin/posts"),children:"All Posts"})})},"3"),(0,r.jsx)(d.Z.Item,{children:(0,r.jsx)(u(),{href:"/admin/posts/new",children:(0,r.jsx)("a",{className:y("/admin/posts/new"),children:"Add New"})})},"4"),(0,r.jsx)(d.Z.Item,{children:(0,r.jsx)(u(),{href:"/admin/categories",children:(0,r.jsx)("a",{className:y("/admin/categories"),children:"Categories"})})},"5")]},"2"),(0,r.jsxs)(g,{icon:(0,r.jsx)(j.Z,{}),title:"Media",children:[(0,r.jsx)(d.Z.Item,{children:(0,r.jsx)(u(),{href:"/admin/media/library",children:(0,r.jsx)("a",{className:y("/admin/media/library"),children:"Library"})})},"7"),(0,r.jsx)(d.Z.Item,{children:(0,r.jsx)(u(),{href:"/admin/media/new",children:(0,r.jsx)("a",{className:y("/admin/media/new"),children:"Add New"})})},"8")]},"6"),(0,r.jsx)(d.Z.Item,{icon:(0,r.jsx)(p.Z,{}),children:(0,r.jsx)(u(),{href:"/admin/comments",children:(0,r.jsx)("a",{className:y("/admin/comments"),children:"Comments"})})},"9"),(0,r.jsxs)(g,{icon:(0,r.jsx)(Z.Z,{}),title:"Users",children:[(0,r.jsx)(d.Z.Item,{children:(0,r.jsx)(u(),{href:"/admin/users",children:(0,r.jsx)("a",{className:y("/admin/users"),children:"All Users"})})},"11"),(0,r.jsx)(d.Z.Item,{children:(0,r.jsx)(u(),{href:"/admin/users/new",children:(0,r.jsx)("a",{className:y("/admin/users/new"),children:"Add New"})})},"12")]},"10"),(0,r.jsx)(d.Z.Item,{icon:(0,r.jsx)(v.Z,{}),children:(0,r.jsx)(u(),{href:"/admin/".concat(null===b||void 0===b||null===(e=b.user)||void 0===e?void 0:e._id),children:(0,r.jsx)("a",{className:y("/admin/".concat(null===b||void 0===b||null===(n=b.user)||void 0===n?void 0:n._id)),children:"Profile"})})},"13"),(0,r.jsx)(d.Z.Item,{icon:(0,r.jsx)(w.Z,{}),children:(0,r.jsx)(u(),{href:"/admin/customize",children:(0,r.jsx)("a",{className:y("/admin/customise"),children:"Customize"})})},"14")]})})},I=s(11163),b=s(15330),y=s(9669),k=s.n(y),A=(s(62091),c.Z.Content);var E=function(e){var n=(0,l.useContext)(m.V),s=n[0],a=(n[1],(0,l.useState)(!0)),d=a[0],o=a[1];(0,l.useEffect)((function(){(null===s||void 0===s?void 0:s.token)&&u(),o(!1)}),[null===s||void 0===s?void 0:s.token]);var u=function(){var e=(0,i.Z)(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k().get("/current-admin");case 3:e.sent.data,o(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),h.push("/");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),h=(0,I.useRouter)();return d?(0,r.jsx)(b.Z,{}):(0,r.jsx)(c.Z,{children:(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(N,{}),(0,r.jsx)(A,{style:{padding:"10px"},children:e.children})]})})}},63456:function(e,n,s){var i=s(26042),a=s(69396),t=s(29815),r=s(85893),c=s(71577),l=s(67294),d=(s(87522),s(16536)),o=s(84551),u=s(88484),h=s(40730),m=s(4657),f=s(11163);n.Z=function(e){var n=e.redirectToLib,s=void 0!==n&&n,x=e.page,j=void 0===x?"admin":x,p=(0,l.useContext)(h.V),Z=p[0],v=(p[1],(0,l.useContext)(m.Y)),w=v[0],g=v[1],C=(0,f.useRouter)(),N={name:"file",action:"".concat("http://localhost:8000/api/","/upload-image-file"),headers:{Authorization:"Bearer ".concat(Z.token)},onChange:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?(d.ZP.success("".concat(e.file.name," file uploaded successfully")),g({images:(0,t.Z)(w.images).concat([e.file.response]),selected:e.file.response,showMediaModal:!1}),s&&C.push("/".concat(j,"/media/library")),console.log("info.file =>",e.file)):"error"===e.file.status&&d.ZP.error("".concat(e.file.name," file upload failed."))}};return(0,r.jsx)(o.Z,(0,a.Z)((0,i.Z)({},N),{maxCount:1,children:(0,r.jsx)(c.Z,{icon:(0,r.jsx)(u.Z,{}),children:"Click to Upload"})}))}}}]);